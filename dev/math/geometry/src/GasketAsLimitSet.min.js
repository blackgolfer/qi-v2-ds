"use strict";{function d(a){let e={x:a.x,y:a.y,r:Math.sqrt(a.x*a.x+a.y*a.y),arg:Math.atan2(a.y,a.x)};return e.add=function(a){return d({x:e.x+a.x,y:e.y+a.y})},e.sub=function(a){return d({x:e.x-a.x,y:e.y-a.y})},e.mult=function(a){let b={x:e.x*a.x-e.y*a.y,y:e.x*a.y+e.y*a.x};return d(b)},e.div=function(a){let b={},c=a.x*a.x+a.y*a.y;return b.x=(e.x*a.x+e.y*a.y)/c,b.y=(e.y*a.x-e.x*a.y)/c,d(b)},e.conjugate=function(){({x:e.x,y:-e.y});return e},e.equal=function(a){let b=1e-11;return Math.abs(e.x-a.x)<b&&Math.abs(e.y-a.y)<b},e.toString=function(){let a;return a=0<=e.y?e.x+" + "+e.y+"i":e.x+" - "+-1*e.y+"i",a},e.invert=function(a=1){let b={},c=e.x*e.x+e.y*e.y;return b.x=a*e.x/c,b.y=-a*e.y/c,d(b)},e.abs=function(){return Math.sqrt(e.x*e.x+e.y*e.y)},e.sqrt=function(){let c,f,g;return c=Math.sqrt(e.r),f=c*Math.cos(e.arg/2),g=c*Math.sin(e.arg/2),d({x:f,y:g})},e.clone=function(){return d(e)},e.mobius=function(a){let b,c,f,g,h,i;return c=a.a.x*e.x-a.a.y*e.y+a.b.x,f=a.a.y*e.x+a.a.x*e.y+a.b.y,g=a.c.x*e.x-a.c.y*e.y+a.d.x,h=a.c.y*e.x+a.c.x*e.y+a.d.y,i=g*g+h*h,b=d({x:(c*g+f*h)/i,y:(f*g-c*h)/i}),b},e}function e(a,b){return d({x:a.x+b.x,y:a.y+b.y})}function f(a,b){return d({x:a.x-b.x,y:a.y-b.y})}function g(a,b){return d({x:a.x*b.x-a.y*b.y,y:a.x*b.y+a.y*b.x})}function h(a,b){let c=b.x*b.x+b.y*b.y;return d({x:(a.x*b.x+a.y*b.y)/c,y:(a.y*b.x-a.x*b.y)/c})}function j(a){return Math.sqrt(a.x*a.x+a.y*a.y)}function k(a,b){let c,e,f,g,h,i;return e=a.a.x*b.x-a.a.y*b.y+a.b.x,f=a.a.y*b.x+a.a.x*b.y+a.b.y,g=a.c.x*b.x-a.c.y*b.y+a.d.x,h=a.c.y*b.x+a.c.x*b.y+a.d.y,i=g*g+h*h,c=d({x:(e*g+f*h)/i,y:(f*g-e*h)/i}),c}function l(i,a,b,c){let j,d;return d=f(g(i,c),g(a,b)),j={a:h(i,d),b:h(a,d),c:h(b,d),d:h(c,d)},j.inv=function(){return l(j.d.clone(),g(j.b,{x:-1,y:0}),g(j.c,{x:-1,y:0}),j.a.clone())},j.mult=function(f){let h,i,k,m,n;return h=e(g(j.a,f.a),g(j.b,f.c)),i=e(g(j.a,f.b),g(j.b,f.d)),k=e(g(j.c,f.a),g(j.d,f.c)),m=e(g(j.c,f.b),g(j.d,f.d)),n=l(h,i,k,m),n},j.toString=function(){let a="a = "+j.a.toString()+"\nb = "+j.b.toString()+"\nc = "+j.c.toString()+"\nd = "+j.d.toString();return a},j}function m(a,b,c){let d={intWidth:a,intHeight:b,dblWidth:c,dblHeight:c*b/a,dblMinX:-c/2,dblMaxX:c/2};return d.dblMinY=-d.dblHeight/2,d.dblMaxY=d.dblHeight/2,d.getDblPoint=function(a){let b={x:d.dblMinX+a.x/d.intWidth*d.dblWidth,y:d.dblMaxY-a.y/d.intHeight*d.dblHeight};return b},d.getIntPoint=function(a){let b={x:Math.round((a.x-d.dblMinX)/d.dblWidth*d.intWidth),y:Math.round((d.dblMaxY-a.y)/d.dblHeight*d.intHeight)};return b},d.getDblDistance=function(a){return a*(d.dblMaxX-d.dblMinX)/d.intWidth},d.getIntDistance=function(a){return a*d.intWidth/(d.dblMaxX-d.dblMinX)},d.drawGrid=function(a){let b={};for(let c=Math.trunc(d.dblMinX);c<=Math.trunc(d.dblMaxX);c+=1)a.strokeStyle=0===c?"#aaa":"#ddd",a.beginPath(),b=d.getIntPoint({x:c,y:0}),a.moveTo(b.x,0),a.lineTo(b.x,d.intHeight),a.stroke();for(let c=Math.trunc(d.dblMinY);c<=Math.trunc(d.dblMaxY);c+=1)a.strokeStyle=0===c?"#aaa":"#ddd",a.beginPath(),b=d.getIntPoint({x:0,y:c}),a.moveTo(0,b.y),a.lineTo(d.intWidth,b.y),a.stroke()},d.moveOrigin=function(a){let b,c,e,f;b=a.x-d.intWidth/2,c=a.y-d.intHeight/2,console.log(c),e=b*d.dblWidth/d.intWidth,f=c*d.dblHeight/d.intHeight,console.log(d.dblMaxY),d.dblMinX-=e,d.dblMaxX-=e,d.dblMinY+=f,d.dblMaxY+=f,console.log(d.dblMaxY)},d}function n(){let a=document.createElement("canvas").getContext("2d"),b=window.devicePixelRatio||1,c=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return b/c}function o(){let a,b,c,d,e;v===void 0&&(v=n()),b=M(.9*x.parentNode.offsetWidth,500),c=b,a=b,a!==x.width&&(x.width=b*v,x.height=c*v,y=x.getContext("2d"),x.style.width=b+"px",x.style.height=c+"px",d=x.width,e=x.height,z=m(x.width,x.height,2.6),s())}function p(a){let b,c,e,f,g=d({x:4,y:0}),h=d({x:2,y:0}),i=d({x:0,y:0});return a.c.equal(i)?f=[a.b.div(a.d.sub(a.a))]:a.a.add(a.d).mult(a.a.add(a.d).equal(g))?f=[a.a.sub(a.d).div(h.mult(a.c))]:(e=a.a.add(a.d).mult(a.a.add(a.d)).sub(g).sqrt(),b=a.a.sub(a.d).add(e).div(h.mult(a.c)),c=a.a.sub(a.d).sub(e).div(h.mult(a.c)),f=[b,c]),f}function q(){let e,f,g,h,j,k,m=d({x:2,y:0}),n=d({x:0,y:1});j=A.mult(a.div(m)),k=j.mult(j).sub(A.mult(A)).sub(a.mult(a)),e=j.sub(k.sqrt()),j=e.sub(m).mult(a),k=a.mult(e).sub(m.mult(A)).add(m.mult(e).mult(n)),f=j.div(k),k=a.div(m),g=l(a.sub(m.mult(n)).div(m),k,k,a.add(m.mult(n)).div(m)),k=e.div(m),h=l(k,e.sub(m).div(m.mult(f)),e.add(m).mult(f).div(m),k),c=[],c.push(h.mult(g.inv())),c.push(g),c.push(c[0].inv()),c.push(c[1].inv()),w=[],B=[];for(let a=0;4>a;a++)w.push(p(c[((a-1)%4+4)%4].mult(c[a%4]).mult(c[(a+1)%4]).mult(c[(a+2)%4]))[0]),B.push(p(c[a%4].mult(c[(a+1)%4]).mult(c[(a+2)%4]).mult(c[(a+3)%4]))[0])}function r(a,b,d,e,f=.01){let g,h,l,m=[((b-1)%4+4)%4,b,(b+1)%4];for(let n=0;n<m.length;n++)g=a.mult(c[m[n]%4]),h=k(g,B[m[n]%4]),j(h.sub(d))<f?(l=z.getIntPoint(h),y.lineTo(l.x,l.y)):0<e&&r(g,m[n],h,e-1,f)}function s(){let e;b=!0,x.width=x.width,y.strokeStyle="rgba(0, 0, 0, 0.6)",y.lineWidth=2,0<=C?(A=d({x:2,y:C}),a=d({x:2,y:-.35*C})):(A=d({x:2,y:.35*C}),a=d({x:2,y:-.35*C})),q(),e=z.getIntPoint(w[0]),y.beginPath(),y.moveTo(e.x,e.y);for(let a=0;4>a;a++)e=z.getIntPoint(w[a]),y.lineTo(e.x,e.y),r(c[a],a,w[a],18,.005);e=z.getIntPoint(w[0]),y.lineTo(e.x,e.y),y.stroke(),b=!1}function u(){let a,c;a=document.getElementById("limitSetContainer"),x=document.createElement("canvas"),a.appendChild(x),o(),window.addEventListener("resize",o,!1),x.addEventListener("mousedown",function(){b||s()}),c=document.getElementById("limitSetSlider"),c.addEventListener("change",function(){C=33*parseInt(this.value)/1e4,b||s()})}let v,x,y,z,A,a,c=[],w=[],B=[],C=0,b=!1;const i=console.log,t=Math.random,D=Math.sqrt,E=Math.sin,F=Math.cos,G=Math.tan,H=Math.asin,I=Math.acos,J=Math.atan,K=Math.atan2,L=Math.PI,M=Math.min,N=Math.max;u()}